/* This block of configuration has been generated by the base role for Ansible */

system {
    host-name {{ host_name }};
    time-zone {{time_zone}};
    default-address-selection;
    ports {
        console log-out-on-disconnect;
    }
    root-authentication {
        encrypted-password "{{ root_hash }}"; 
    }
    }
{% if nameservers is defined %}
    name-server {
{% for nameserver in nameservers %}
        {{ nameserver.nameserver }};
{% endfor %}
    }
{% endif %}
    services {
        ssh {
            root-login allow;
            protocol-version v2;
            max-sessions-per-connection 32;
        }
        netconf {
            ssh;
        }
    }
    ntp {
        boot-server {{ ntp_server }};
        server {{ ntp_server }};
        source-address {{ ip }};
    }
}
interfaces {
    em0 {
        unit 0 {
            family inet {
                address {{ ip }}/{{ mask }};
            }
        }
    }
    em1 {
        unit 0 {
            family inet {
                address 169.254.0.2/24;
            }
        }
    }

    lo0 {
        unit 0 {
            family inet {
                address {{ loopback_ip }}/32;
            }
        }
    }
}
routing-options {
    static {
        route 0.0.0.0/0 next-hop {{ default_gateway }};
    }
}